<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Contact Us Page </title>

    <meta name="author" content="Codeconvey" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>   
    <link rel="stylesheet" href="css/style.css">
    
    <link rel="stylesheet" href="css/demo.css" />
	
</head>
<body>
<section>
    <div class="rt-container">
          <div class="col-rt-12">
              <div class="Scriptcontent">
              
               <div>
            <div class="container">
                <div class="contact-parent">
                    <div class="contact-child child1">
                        <p>
                            <i class="fas fa-map-marker-alt"></i> Address <br />
                            <span> 12 ABC tower
                                <br />
                                vadodara, Gujarat 
                                <br>
                                India
                            </span>
                        </p>

                        <p>
                            <i class="fas fa-phone-alt"></i> Let's Talk <br />
                            <span> 0123456789</span>
                        </p>

                        <p>
                            <i class=" far fa-envelope"></i> General Support <br />
                            <span>contact@example.com</span>
                        </p>
                    </div>

                    <div class="contact-child child2">
                        
                        <div class="inside-contact">
                            <h2>Contact Us</h2>
                            <h3>
                                <span id="confirm">
                                </h3>
                                <form action="" id="contactform" >
                                    
                                    <p>Name *</p>
                                    <input id="name" type="text" Required="required" name="name">
                                    
                                    <p>Email *</p>
                                    <input id="email" type="text" Required="required" name="email">
                                    
                                    <p>Phone *</p>
                                    <input id="phone" type="text" Required="required" name="phone">
                                    
                                    <p>Subject *</p>
                                    <input id="sub" type="text" Required="required" name="sub">
                                    
                                    <p>Message *</p>
                                    <textarea id="mes" rows="4" cols="20" Required="required" name="mes"></textarea>
                                    
                                    <input type="submit"  >
                                </div>
                            </div>
                        </form>
                </div>
            </div>
        </div>
    		
           
    		</div>
		</div>
    </div>
    
</section>
    
    <!-- scripts for firebase  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
    
    <!-- firebase connectivity -->

    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyAAIFAuhS5dsfyBEEUjY8StS6sz6zrFi1A",
            authDomain: "contactform-e1381.firebaseapp.com",
            databaseURL: "https://contactform-e1381-default-rtdb.firebaseio.com",
            projectId: "contactform-e1381",
            storageBucket: "contactform-e1381.appspot.com",
            messagingSenderId: "1077102266844",
            appId: "1:1077102266844:web:6208f6f5ce4df6e0eda719",
            measurementId: "G-38L4P49RR1"
        };

        firebase.initializeApp(firebaseConfig);

        var contactformDB = firebase.database().ref('contactform');

        document.getElementById("contactform").addEventListener("submit", submitForm);

        function submitForm(e) {
            e.preventDefault();

            var name = getElementVal("name");
            var email = getElementVal("email");
            var phone = getElementVal("phone");
            var sub = getElementVal("sub");
            var mes = getElementVal("mes");

            console.log(name, email, phone, sub, mes);

            saveMessages(name, email, phone, sub, mes);

            //   enable alert
            document.querySelector(".alert").style.display = "block";

            //   remove the alert
            setTimeout(() => {
                document.querySelector(".alert").style.display = "none";
            }, 3000);

            //   reset the form
            document.getElementById("contactform").reset();
        }

        const saveMessages = (name, email, phone, sub, mes) => {
            var newContactForm = contactformDB.push();

            newContactForm.set({
                name: name,
                email: email,
                phone: phone,
                sub: sub,
                mes: mes,
            });
        };

        const getElementVal = (id) => {
            return document.getElementById(id).value;
        };


    </script>
   
	</body>
</html>